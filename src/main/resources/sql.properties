## DATABASE ##
database.criacao = CREATE DATABASE porto

## USUARIO ##
usuario.busca.password.por.login = SELECT password FROM usuarios WHERE login = ?
usuario.salvar = INSERT INTO usuarios (login, password, role) VALUES (?, ?, ?) RETURNING id
usuario.buscar.por.id = SELECT * FROM usuarios WHERE id = ?
usuario.atualizar = UPDATE usuarios SET login = ?, password = ?, role = ? WHERE id = ?
usuario.deletar = DELETE FROM usuarios WHERE id = ?
usuario.todos = SELECT * FROM usuarios

## CLIENTE ##
cliente.salvar = INSERT INTO Clientes (nome) VALUES (?) RETURNING id
cliente.buscar.por.id = SELECT * FROM Clientes WHERE id = ?
cliente.atualizar = UPDATE Clientes SET nome = ? WHERE id = ?
cliente.deletar = DELETE FROM Clientes WHERE id = ?
cliente.todos = SELECT * FROM Clientes

## CONTAINER ##
conteiner.salvar = INSERT INTO Conteineres (identificacao, cliente_id, tipo, categoria, status) VALUES (?, ?, ?, ?, ?) RETURNING id
conteiner.buscar.por.id = SELECT * FROM Conteineres WHERE id = ?
conteiner.atualizar = UPDATE Conteineres SET identificacao = ?, cliente_id = ?, tipo = ?, categoria = ?, status = ? WHERE id = ?
conteiner.deletar = DELETE FROM Conteineres WHERE id = ?
conteiner.todos = SELECT * FROM Conteineres
conteiner.por.cliente = SELECT c.id, c.identificacao, c.tipo, c.categoria, c.status, cl.id AS cliente_id, cl.nome AS cliente_nome FROM Conteineres c JOIN Clientes cl ON c.cliente_id = cl.id WHERE cl.id = ?;


## MOVIMENTACAO ##
movimentacao.criar = INSERT INTO Movimentacao (tipo, hora_inicio, hora_fim, conteiner_id) VALUES (?, ?, ?, ?) RETURNING id
movimentacao.buscar.por.id = SELECT * FROM Movimentacao WHERE id = ?
movimentacao.fecha = UPDATE Movimentacao SET hora_fim = ? WHERE id = ?
movimentacao.todos = Select * from Movimentacao
movimentacao.todos.por.container = SELECT id, tipo, hora_inicio, hora_fim, conteiner_id FROM Movimentacao WHERE conteiner_id = ?;
movimentacao.todos.por.cliente = SELECT m.id, m.tipo, m.hora_inicio, m.hora_fim, m.conteiner_id FROM Movimentacao m JOIN Conteineres c ON m.conteiner_id = c.id WHERE c.cliente_id = ?

##CONTEINER MOVIMENTACOES ##
conteiner.movimentacao.insere = INSERT INTO conteiner_movimentacoes (conteiner_id, movimentacao_id) VALUES (?, ?)
conteiner.lista.movimentacao = SELECT * FROM conteiner_movimentacoes where conteiner_id = ?